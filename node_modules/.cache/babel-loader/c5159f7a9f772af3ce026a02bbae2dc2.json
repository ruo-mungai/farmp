{"ast":null,"code":"var _jsxFileName = \"/home/ruo/Development/code/Phase3/farm-produce/frontend/farm_produce/src/components/Home.js\";\nimport React, { useState, useEffect } from 'react';\nimport \"../App.css\";\nimport { Button } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\n\nfunction Home(_ref) {\n  let {\n    farmer,\n    setFarmer\n  } = _ref;\n  const [total, setTotal] = useState([]);\n  const btnstyle = {\n    margin: '8px 0'\n  };\n\n  function handleDelete(id) {\n    fetch(`http://localhost:9292/farmers/${id}`, {\n      method: \"DELETE\"\n    }).then(r => r.json()).then(() => {\n      const deleteFarmer = farmer.filter(product => product.id !== id);\n      setFarmer(deleteFarmer);\n    });\n  }\n\n  useEffect(() => {\n    fetch(`http://localhost:9292/total`).then(response => response.json()).then(data => {\n      setTotal(data);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    p: 1,\n    bgcolor: \"background.paper\",\n    \"flex-direction\": \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, \"Tel\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, \"Location\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, \"Product supplied\")), farmer.map(farmer => /*#__PURE__*/React.createElement(\"tr\", {\n    key: farmer.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, farmer.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, farmer.tel), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, farmer.location), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  }, \"Product\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }\n  }, \"Quantity (Kg)\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }\n  }, \"Price\")), farmer.products.map(pro => /*#__PURE__*/React.createElement(\"div\", {\n    style: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, pro.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, pro.quantity), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, pro.price))), /*#__PURE__*/React.createElement(\"tfoot\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    variant: \"contained\",\n    style: btnstyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, \" \", \"Total Ksh:\", farmer.products.reduce((total, currentValue) => total = total + currentValue.price, 0)))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"secondary\",\n    variant: \"contained\",\n    style: btnstyle,\n    onClick: e => handleDelete(farmer.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 19\n    }\n  }, \"Delete Farmer\"))))))), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    variant: \"contained\",\n    style: btnstyle,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, \"Total Ksh: \", total));\n}\n\nexport default Home;","map":{"version":3,"names":["React","useState","useEffect","Button","Box","Home","farmer","setFarmer","total","setTotal","btnstyle","margin","handleDelete","id","fetch","method","then","r","json","deleteFarmer","filter","product","response","data","map","name","tel","location","products","pro","quantity","price","reduce","currentValue","e"],"sources":["/home/ruo/Development/code/Phase3/farm-produce/frontend/farm_produce/src/components/Home.js"],"sourcesContent":["import React,{ useState,useEffect} from 'react'\nimport \"../App.css\"\nimport { Button } from '@material-ui/core'\nimport Box from '@material-ui/core/Box';\n\n\n\nfunction Home({farmer ,setFarmer}) {\n\n const [total, setTotal] = useState([]);\n const btnstyle={margin:'8px 0'}\n \n\n\n  function handleDelete(id) {\n    \n    fetch(`http://localhost:9292/farmers/${id}`, {\n      method: \"DELETE\",\n    })\n      .then((r) => r.json())\n      .then(() => {\n        const  deleteFarmer= farmer.filter((product) => product.id !== id);\n        setFarmer(deleteFarmer);\n      });\n  \n}\n  \n  \n  useEffect(() => {\n    fetch(`http://localhost:9292/total`)\n    .then(response => response.json())\n    .then((data) => {\n     \n     setTotal(data)\n    \n    })\n  }, [])\n\n  return (\n    <div className=\"app\">\n      <Box\n        display=\"flex\"\n        p={1}\n        bgcolor=\"background.paper\"\n        flex-direction=\"column\"\n      >\n        <table>\n          <tbody>\n            <tr>\n              <th>Name</th>\n              <th>Tel</th>\n              <th>Location</th>\n              <th>Product supplied</th>\n            </tr>\n\n            {farmer.map((farmer) => (\n              <tr key={farmer.id}>\n                <td>{farmer.name}</td>\n                <td>{farmer.tel}</td>\n                <td>{farmer.location}</td>\n                <tr>\n                  <th>Product</th>\n                  <th>Quantity (Kg)</th>\n                  <th>Price</th>\n                </tr>\n\n                {farmer.products.map((pro) => (\n                  <div style={{}}>\n                    <td>{pro.name}</td>\n                    <td>{pro.quantity}</td>\n                    <td>{pro.price}</td>\n                  </div>\n                ))}\n\n                <tfoot>\n                  <tr>\n                    <Button\n                      type=\"submit\"\n                      color=\"primary\"\n                      variant=\"contained\"\n                      style={btnstyle}\n                    >\n                      {\" \"}\n                      Total Ksh:\n                      {farmer.products.reduce(\n                        (total, currentValue) =>\n                          (total = total + currentValue.price),\n                        0\n                      )}\n                    </Button>\n                  </tr>\n                </tfoot>\n                <td>\n                  <Button\n                    type=\"submit\"\n                    color=\"secondary\"\n                    variant=\"contained\"\n                    style={btnstyle}\n                    onClick={(e) => handleDelete(farmer.id)}\n                  >\n                    Delete Farmer\n                  </Button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </Box>\n\n      <Button\n        type=\"submit\"\n        color=\"primary\"\n        variant=\"contained\"\n        style={btnstyle}\n        fullWidth\n      >\n        Total Ksh: {total}\n      </Button>\n    </div>\n  );\n}\n\nexport default Home"],"mappings":"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"},"metadata":{},"sourceType":"module"}